version: ~> 1.0
dist: bionic
language: go
os: linux
jobs:
  include:
    - go: "1.13.x"
    - go: "1.13.x"
      osx_image: "xcode10.1"
      os: osx
    - go: "1.12.x"
env:
  global: GO111MODULE="on"

install:
  - go get github.com/tchajed/goose
  - go get ./...
script:
  - diff -u <(echo -n) <(gofmt -d .)
  - go vet ./...
  - go test -v ./...
  - make all

notifications:
  email: false
